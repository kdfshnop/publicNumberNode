/*++----------------------------------------------------------------------------------------------------------------------------------------------------------------------
1. 项目名称：Aggregator标准框架
2. 文件名：src -> system -> core -> bootstrap ->routerRegister.js
3. 作者：zhaohuagang@lifang.com
4. 备注：系统启动项 -> 路由自动注册
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------++*/

/*++----------------------------------------------------------------------------------------------------------------------------------------------------------------------
加载资源
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------++*/
import loader from "../../libraries/loader" ;
/*++----------------------------------------------------------------------------------------------------------------------------------------------------------------------
加载应用所有的路由器
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------++*/
let routers = loader.load("application/routers") ;
/*++----------------------------------------------------------------------------------------------------------------------------------------------------------------------
遍历并注册
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------++*/
export default function (app) {
    for(let m in routers) {
        //if (m === app.locals.confs.app.homeRouter) app.use("/", routers[m]["default"]) ; 
        //else app.use("/" + m , routers[m]["default"]) ;
        app.use("/", routers[m]["default"]) ;
        //console.log(routers[m]["default"]+"m---------------"+m)
    } 
} ;

